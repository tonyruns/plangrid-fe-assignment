{"version":3,"sources":["webpack:///webpack/bootstrap d5c1b7d6916071f9018c","webpack:///./src/main.js"],"names":["httpRequest","calendarMap","today","Date","currentMonthDate","getFullYear","getMonth","currentMonth","currentYear","titleNode","document","getElementById","monthToEnglish","addEventListener","updateCalendar","getCalendarEvents","XMLHttpRequest","onreadystatechange","handleResponse","curMonth","padStart","open","send","readyState","DONE","status","response","JSON","parse","responseText","launches","updateLaunchEvents","console","log","sort","a","b","wsstamp","forEach","isostart","launch","startTS","endTS","westamp","name","startKey","split","event","createCalendarEvent","appendChild","clearCalender","innerText","totalDays","getDaysInMonth","week","tempDate","day","getDay","dayNodes","querySelector","children","prevMonth","prevYear","prevTotalDays","i","createCalendarOutDate","key","createCalendarDate","isLeapYear","year","number","node","createElement","className","start","end","startDate","startTime","toLocaleTimeString","j","length","firstChild","removeChild","month"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d5c1b7d6916071f9018c","(function() {\n  let httpRequest;\n  let calendarMap = {};\n  let today = new Date();\n  let currentMonthDate = new Date(today.getFullYear(), today.getMonth());\n  let currentMonth = currentMonthDate.getMonth();\n  let currentYear = currentMonthDate.getFullYear();\n  const titleNode = document.getElementById(\"title\");\n\n  const monthToEnglish = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  \n\n  document.getElementById(\"nextMonth\").addEventListener('click', () => {\n    currentMonth++;\n    if (currentMonth > 11) {\n      currentMonth = 0;\n      currentYear++;\n    }\n\n    updateCalendar();\n    getCalendarEvents();\n  });\n\n  document.getElementById(\"prevMonth\").addEventListener('click', () => {\n    currentMonth--;\n    if (currentMonth < 0) {\n      currentMonth = 11;\n      currentYear--;\n    }\n\n    updateCalendar();\n    getCalendarEvents();\n  });\n  \n  document.getElementById(\"today\").addEventListener('click', () => {\n    currentMonthDate = new Date(today.getFullYear(), today.getMonth());\n    currentMonth = currentMonthDate.getMonth();\n    currentYear = currentMonthDate.getFullYear();\n    updateCalendar();\n    getCalendarEvents();\n  });\n\n\n  const getCalendarEvents = () => {\n    httpRequest = new XMLHttpRequest();\n    httpRequest.onreadystatechange = handleResponse;\n    let curMonth = ('' + (currentMonth+1)).padStart(2, '0');\n    httpRequest.open('GET', `https://launchlibrary.net/1.2/launch/${currentYear}-${curMonth}-01/${currentYear}-${curMonth}-31`);\n    httpRequest.send();\n  }\n\n  const handleResponse = () => {\n    if (httpRequest.readyState === XMLHttpRequest.DONE) {\n      if (httpRequest.status === 200) {\n        const response = JSON.parse(httpRequest.responseText);\n        const {launches} = response;\n        updateLaunchEvents(launches);\n      } else {\n        console.log('error in request');\n      }\n    }\n  };\n\n  const updateLaunchEvents = (launches) => {\n    launches.sort((a, b) => a.wsstamp - b.wsstamp);\n    launches.forEach(launch => {\n      const {isostart, wsstamp: startTS, westamp: endTS, name} = launch;\n      let startKey = isostart.split('T')[0];\n\n      if (calendarMap[startKey]) {\n        let event = createCalendarEvent(startTS, endTS, name);\n        calendarMap[startKey].appendChild(event);\n      }\n    });\n  }\n\n\n  const updateCalendar = () => {\n    clearCalender();\n\n    titleNode.innerText = `${monthToEnglish[currentMonth]} - ${currentYear}`;\n\n    let totalDays = getDaysInMonth(currentMonth, currentYear);\n\n    let week = 0;\n    let tempDate = new Date(currentYear, currentMonth);\n    let day = tempDate.getDay();\n    let dayNodes = document.querySelector(`#week${week}`).children;\n    calendarMap = {};\n\n    // fill in previous month of calendar\n    let prevMonth = currentMonth - 1 < 0 ? 11 : currentMonth-1;\n    let prevYear = currentMonth - 1 < 0 ? currentYear - 1 : currentYear;\n    let prevTotalDays = getDaysInMonth(prevMonth, prevYear);\n    for (let i = day-1; i >= 0; i--) {\n      dayNodes[i].appendChild(createCalendarOutDate(prevTotalDays));\n      prevTotalDays--;\n    }\n\n    // fill in dates for current month and populate map\n    for (let i = 0; i < totalDays; i++) {\n      let key = currentYear + ('' + (currentMonth+1)).padStart(2, '0') + ('' + (i+1)).padStart(2, '0');\n      calendarMap[key] = dayNodes[day];\n      calendarMap[key].appendChild(createCalendarDate(i+1));\n\n      day++;\n      if (day % 7 === 0) {\n        day = 0;\n        week++;\n        dayNodes = document.querySelector(`#week${week}`).children;\n      }\n    }\n\n    // fill in dates for next month of calendar\n    for (let i = 1; ; i++) {\n      dayNodes[day].appendChild(createCalendarOutDate(i));\n\n      day++;\n      if (day % 7 === 0) {\n        day = 0;\n        week++;\n        if (week == 6) {\n          break;\n        }\n        dayNodes = document.querySelector(`#week${week}`).children;\n      }\n    }\n  };\n\n  const isLeapYear = year => {\n    if (year % 400 === 0) {\n      return true;\n    }\n\n    if (year % 100 === 0) {\n      return false;\n    } \n\n    if (year % 4 === 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const createCalendarDate = (number) => {\n    let node = document.createElement('div');\n    node.innerText = number;\n    node.className = 'calendar-date';\n\n    return node;\n  };\n\n  const createCalendarOutDate = (number) => {\n    let node = document.createElement('div');\n    node.innerText = number;\n    node.className = 'calendar-outdate';\n\n    return node;\n  }\n\n  const createCalendarEvent = (start, end, name) => {\n    let node = document.createElement('div');\n    let startDate = new Date(start);\n    let startTime = startDate.toLocaleTimeString();\n    node.innerText = startTime + \" - \" + name;\n    node.className = 'calendar-event';\n\n    return node;\n  }\n\n  const clearCalender = () => {\n    for (let i = 0; i < 6; i++) {\n      let dayNodes = document.querySelector(`#week${i}`).children;\n      for (let j = 0; j < dayNodes.length; j++) {\n        while(dayNodes[j].firstChild) {\n          dayNodes[j].removeChild(dayNodes[j].firstChild);\n        }\n      }\n    }\n  }\n\n  const getDaysInMonth = (month, year) => {\n    let totalDays = 31;\n    if (month === 1) {\n      if (isLeapYear(year)) {\n        totalDays = 29;\n      } else {\n        totalDays = 28;\n      }\n    } else if (month === 3 || month === 5 || month === 8 || month === 10) {\n      totalDays = 30;\n    }\n\n    return totalDays;\n  }\n\n  updateCalendar();\n  getCalendarEvents();\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}